(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{108:function(t,e,n){t.exports={list:"contactList_list__1wUDf"}},116:function(t,e,n){},117:function(t,e,n){},192:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),o=n(42),r=n.n(o),i=(n(116),n(19)),s=(n(117),n(194)),u=n(22),l=n.n(u),b=n(28),d=n(106),j=n(9),m=Object(d.a)({reducerPath:"contactsAPI",baseQuery:Object(j.d)({baseUrl:"https://6197981b5953f10017d23e57.mockapi.io"}),tagTypes:["Contact"],endpoints:function(t){return{fetchContacts:t.query({query:function(){return"/contacts"},providesTags:["Contact"]}),addContact:t.mutation({query:function(t){return{url:"/contacts",method:"POST",body:t}},invalidatesTags:["Contact"]}),deleteContact:t.mutation({query:function(t){return{url:"/contacts/".concat(t),method:"DELETE"}},invalidatesTags:["Contact"]})}}}),h=m.useFetchContactsQuery,f=m.useDeleteContactMutation,p=m.useAddContactMutation,O=n(2),x=function(){var t=h().data,e=p(),n=Object(i.a)(e,2),c=n[0],o=n[1].isLoading,r=Object(a.useState)(""),u=Object(i.a)(r,2),d=u[0],j=u[1],m=Object(a.useState)(""),f=Object(i.a)(m,2),x=f[0],_=f[1];return Object(O.jsxs)("form",{className:l.a.form,onSubmit:function(e){e.preventDefault();var n,a={id:Object(s.a)(),name:d,phone:x};if(t.find((function(t){return t.name.toLowerCase()===a.name.toLowerCase()})))return n="".concat(a.name," is already on contacts"),Object(b.b)(n,{duration:4e3,position:"top-right",icon:"\ud83d\ude31",iconTheme:{primary:"green",secondary:"#fff"}}),j(""),void _("");c(a),function(t){Object(b.b)(t,{duration:4e3,position:"top-right",icon:"\u2705",iconTheme:{primary:"green",secondary:"#fff"}})}("New contact ".concat(a.name," is created")),j(""),_("")},children:[Object(O.jsx)("label",{className:l.a.label,children:"Name:"}),Object(O.jsx)("input",{className:l.a.input,type:"text",value:d,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",required:!0,onChange:function(t){return j(t.target.value)}}),Object(O.jsx)("label",{className:l.a.label,children:"Number:"}),Object(O.jsx)("input",{className:l.a.input,type:"tel",value:x,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",required:!0,onChange:function(t){return _(t.target.value)}}),Object(O.jsxs)("button",{className:l.a.submitBtn,disabled:o,type:"submit",children:[o&&"Create...",!o&&" Add contact"]})]})},_=n(29),g=n.n(_),v=n(4),y=n.n(v),C=(n(75),n(45)),N=n.n(C),w=function(t){var e=t.id,n=t.name,a=t.phone,c=f(),o=Object(i.a)(c,2),r=o[0],s=o[1].isLoading,u=function(){var t;r(e),t="Contact with the name ".concat(n," deleted!!!"),Object(b.b)(t,{duration:2e3,position:"top-right",icon:"\u274e",iconTheme:{primary:"green",secondary:"#fff"}})};return Object(O.jsxs)("li",{className:g.a.contactItem,children:[Object(O.jsxs)("div",{className:g.a.content,children:[Object(O.jsxs)("span",{className:g.a.name,children:[n,":"]}),Object(O.jsx)("span",{className:g.a.number,children:a})]}),Object(O.jsx)("button",{className:g.a.btn,disabled:s,onClick:function(){return u()},children:s?Object(O.jsx)(N.a,{type:"Puff",color:"red",height:20,width:20}):"\u274c"})]})};w.propType={contacts:y.a.obj,clickOnBtn:y.a.func};var I=w,T=n(108),k=n.n(T),B=n(110),L=(n(191),function(t){var e=t.filter,n=h().data,a=function(t,e){if(t)return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))}(n,e);return Object(O.jsx)("ul",{className:k.a.list,children:Object(O.jsx)(B.a,{style:{maxHeight:300,forceVisible:1},children:n?a.map((function(t){return Object(O.jsx)(I,{id:t.id,name:t.name,phone:t.phone},t.id)})):Object(O.jsx)("p",{children:"No matches"})})})});L.prototype={contacts:y.a.obj,clickOnBtn:y.a.func};var P=L,S=n(73),q=n.n(S),z=function(t){var e=t.onFilterChange;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("label",{className:q.a.label,children:"Find contacts by name"}),Object(O.jsx)("input",{className:q.a.input,onChange:function(t){e(t.currentTarget.value)}})]})};z.propType={onChange:y.a.func,value:y.a.string};var A=z,F=n(74),D=n.n(F),E=function(t){var e=t.title,n=t.children;return Object(O.jsxs)("section",{className:D.a.container,children:[Object(O.jsx)("h2",{className:D.a.title,children:e}),n]})},J=function(){var t=h(),e=t.data,n=t.isFetching,c=Object(a.useState)(""),o=Object(i.a)(c,2),r=o[0],s=o[1];return console.log(e),Object(O.jsx)("div",{className:"container",children:Object(O.jsxs)(E,{title:"Phonebook",children:[Object(O.jsx)(E,{children:Object(O.jsx)(x,{})}),e&&Object(O.jsxs)(E,{title:"Contacts",children:[Object(O.jsx)(A,{onFilterChange:function(t){s(t)}}),Object(O.jsx)(P,{filter:r})]}),n&&Object(O.jsx)(N.a,{type:"Watch",className:"loader",color:"rgba(114, 27, 27, 0.787)",height:200,width:200}),Object(O.jsx)(b.a,{})]})})},M=n(11),Z=n(111),Q=n(44),U=n(1),W=Object(U.a)({reducer:Object(Q.a)({},m.reducerPath,m.reducer),middleware:function(t){return[].concat(Object(Z.a)(t()),[m.middleware])}});Object(j.e)(W.dispatch),r.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(M.a,{store:W,children:Object(O.jsx)(J,{})})}),document.getElementById("root"))},22:function(t,e,n){t.exports={label:"form_label__23p9o",input:"form_input__3B3LI",form:"form_form__3OJfK",submitBtn:"form_submitBtn__-Msp8"}},29:function(t,e,n){t.exports={contactItem:"contactItem_contactItem__-jS8J",content:"contactItem_content__InBcz",btn:"contactItem_btn__3P3te",number:"contactItem_number__1XvDz",name:"contactItem_name__2jg4b"}},73:function(t,e,n){t.exports={label:"filter_label__2RpBz",input:"filter_input__1O4wW"}},74:function(t,e,n){t.exports={title:"container_title__3w_cC"}}},[[192,1,2]]]);
//# sourceMappingURL=main.518a20b2.chunk.js.map